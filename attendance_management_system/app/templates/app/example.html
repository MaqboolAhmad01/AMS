<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
  <!-- <link href="style.css" rel="stylesheet">  -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>



  <title>Dashboard</title>
  <style>
    .body {
      background: #eee;
    }

    #side-nav {
      background-color: #004d3b;
      min-width: 250px;
      max-width: 250px;
      transition: all 0.2s;

    }

    .content {
      min-height: 100vh;
      width: 100%;
    }

    .sidebar li.active {
      background: #eee;
      border-radius: 10px;
    }

    .sidebar li.active a,
    .sidebar li.active a:hover {
      color: #004d3b;
    }

    .sidebar li a {
      color: #eee;
    }

    @media(max-width:757px) {
      #side-nav {
        margin-left: -250px;
        position: fixed;
        min-height: 100vh;
        z-index: 1;

      }

      #side-nav.active {
        margin-left: 0px;
      }
    }

    .custom-play-button {
      width: 35px;
      height: 35px;
      background-color: #3b704d;
      border: none;
      border-radius: 50%;
      color: rgb(249 255 251);
      font-size: 24px;
      cursor: pointer;

      align-items: center;
      justify-content: center;
    }

    .custom-play-button:hover {
      background-color: #07080a;
    }

    .navbar {
      background-color: #004d3b;


    }

    @media (max-width: 360px) {

      /* Custom styles for 360px and smaller */
      .xxs {
        font-size: 20px !important;
        margin-right: 5px;
      }


    }

    .custom-card-style {
      border-radius: 15px;
      background-color: #f5f5f5;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);

    }

    @media (orientation: landscape) {
      .l {
        height: 35vh !important;

      }
    }

    .nav-link {
      color: #3b704d;
    }

    .nav-link:hover {
      color: #000;
      /* Optionally change the color on hover */
    }

    .nav-link.active {
      color: #3b704d !important;
    }

    @media (max-width: 1024px) and (max-height: 600px) {
      /* Your custom styles for devices with 1024px width and 600px height */

      .c1 {
        height: 35vh !important;
      }

      .c2 {
        height: 35vh !important;
      }

      .c3 {
        height: 17vh !important;
      }

      .c4 {
        height: 17vh !important;
      }

      .c5 {
        height: 17vh !important;
      }

      .c6 {
        height: 17vh !important;
      }
    }
/* 
    canvas {
      width: 100% !important;
      height: 100% !important;
      display: block;
      
    }

    .card-body {
      position: relative;
    
    } */
    /* @media (max-width: 767px) {
      .card-body{
        height:30vh !important;
      }
      #myChart{
        height: 20vh !important; 
      }

    }
    @media (max-width: 767px) {
      .card-body{
        height:30vh !important;
      }
      #myChart{
        height: 20vh !important; 
      }

    } */
    /* @media (min-aspect-ratio: 3/4) {
  .card-body {
    height:25vh !important;

  }
  #myChart{
        height: 15vh !important; 
      }
} */


/* .card-body .row {
  height: 100%;
}

#myChart {
  display: block;
} */
  </style>
</head>

<body>
  <div class="main-container d-flex">
    <div class="sidebar" id="side-nav">
      <div class="header-box py-2 pt-3 pb-4 d-flex justifycontent-between">
        <div class="d-flex align-items-center">
          <button class="d-md-none d-block btn fs-2 close-btn px-1 py-0 text-white">
            <i class="bi bi-list"></i>
          </button>
          <h1 class="fs-2 mb-0">
            <span class="text-white px-3">Only Pipe</span>
          </h1>
        </div>


      </div>
      <ul class="list-unstyled px-2 fs-5">
        <li class="active"><a class="text-decoration-none px-3 py-2 d-block" href="#"><i
              class="bi bi-columns-gap px-1"></i>Dashboard</a></li>
        <li class=""><a class="text-decoration-none px-3 py-2 d-block" href="#"><i
              class="bi bi-clock-history px-1"></i>Time Sheet</a></li>
        <li class=""><a class="text-decoration-none px-3 py-2 d-block" href="#"><i
              class="bi bi-suitcase-fill px-1"></i>Time Off</a></li>
        <li class=""><a class="text-decoration-none px-3 py-2 d-block" href="#"><i
              class="bi bi-gear-fill px-1"></i>Settings</a></li>

      </ul>


    </div>
    <div class="content">
      <nav class="navbar d-md-none d-block">
        <div class="container-fluid ">
          <div class="d-flex justify-content-between d-md-none d-block ">
            <button class="btn  px-1 py-0 open-btn fs-2 text-white"><i class="bi bi-list"></i></button>
            <a class="navbar-brand fs-2 text-white" href="#">Only Pipe</a>

          </div>
        </div>

      </nav>
      <div class="dashboard d-flex justify-content-between align-items-center py-2">
        <h1 class="ms-2 fs-1 xxs fs-sm-6 px-1 py-2">Dashboard</h1>
        <div class=" me-2 d-flex align-items-center justify-content-center">
          <button type="button" class=" xss btn btn-outline-success today-btn me-1 me-sm-3">Today</button>
          <i class="bi bi-arrow-right arrow-icon fs-5 fs-sm-4 me-sm-3 xss"></i>
          <span class="timer fs-5 fs-sm-6 me-1 me-sm-3 xss " id="timer">00:00:00</span>
          <button class="custom-play-button fs-5 fs-sm-6  xss me-sm-3" id="playButton">
            <i class="bi bi-play-fill"></i>
          </button>
        </div>
      </div>

      <div class="container-fluid mt-3 ">
        <div class="row">

          <!-- First two cards placed side by side in the row -->
          <div class="col-md-6 col-lg-5 mt-2">
            <div class="card custom-card-style c1" style="height: 25vh;">
              <div class="card-body py-0 ">
                <h5 class="card-title mt-2" style="color:#004d3b;">Hello Maqbool</h5>
                <p class="card-text ">Here's your dashboard for today.Easily track your work hours and get reminders
                  when itâ€™s time to take a break. Stay organized and keep a healthy balance in your day. Start managing
                  your time better!.</p>
              </div>
            </div>
          </div>

          <div class="col-md-6 col-lg-3 mt-2">
            <div class="card custom-card-style c2" style="height: 25vh;">
              <div class="card-body">
                <h5 class="card-title" style="color:#004d3b;">Upcoming Holidays and Time Off</h5>
                <p class="card-text">No upcoming holidays</p>
              </div>
            </div>
          </div>

          <!-- Second pair of cards inside a single div (stacked vertically) -->
          <div class="col-lg-2 col-md-6 d-flex flex-column mt-2">
            <div class="card mb-2 custom-card-style c3" style="height: 12vh;">
              <div class="card-body">
                <h5 class="card-title" style="color:#004d3b;">Sick Leaves</h5>
                <p class="card-text">9/10</p>
              </div>
            </div>

            <div class="card custom-card-style c4" style="height: 12vh;">
              <div class="card-body">
                <h5 class="card-title" style="color:#004d3b;">Annual Leaves</h5>
                <p class="card-text">3/10</p>
              </div>
            </div>
          </div>

          <!-- Second pair of cards inside a single div (stacked vertically) -->
          <div class="col-lg-2  col-md-6 d-flex flex-column mt-2">
            <div class="card mb-2 custom-card-style c5" style="height: 12vh;">
              <div class="card-body ">
                <h5 class="card-title" style="color:#004d3b;">Casual Leaves</h5>
                <p class="card-text">1/10</p>
              </div>
            </div>

            <div class="card custom-card-style c6" style="height: 12vh;">
              <div class="card-body">
                <h5 class="card-title" style="color:#004d3b;">Urgent Leaves</h5>
                <p class="card-text">0/10</p>
              </div>
            </div>
          </div>

          
          <div class="col-12 mt-3">
            <div class="card custom-card-style " style="max-height: 70vh;">
              <div class="card-header">
                <ul class="nav nav-tabs card-header-tabs">
                  <li class="nav-item">
                    <a class="nav-link active" href="#">Day</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">Week</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">Month</a>
                  </li>
                </ul>
              </div>
              <div class="card-body d-flex flex-column">
                <div class="row">
                  <div class="col-12 col-md-4">
                    <h2 id="worked-time" class="fs-5" style="color:#004d3b;">Worked Time: 145h 59m</h2>
                  </div>
                  <div class="col-12 col-md-8 d-flex">
                    <canvas id="myChart" class=""></canvas>
                  </div>
                </div>
              </div>
            </div>
          </div>
          

        </div>
      </div>

    </div>

  </div>
  <script>
    $(".sidebar ul li").on('click', function () {
      $(".sidebar ul li.active").removeClass('active');
      $(this).addClass('active')
    })
    $(".open-btn").on('click', function () {
      $(".sidebar").addClass("active");
    })
    $(".close-btn").on('click', function () {
      $(".sidebar").removeClass("active");
    })

    $('.nav-link').on('click', function (event) {

      $('.nav-link').removeClass('active');
      $(this).addClass('active');
      if (selectedTab === 'Day') {
      } else if (selectedTab === 'Week') {
      } else if (selectedTab === 'Month') {
      }
    });

const ctx = document.getElementById('myChart').getContext('2d');
const myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: [],  // Empty initially, will be updated by fetched data
        datasets: [{
            label: 'worked hours',
            data: [],
            backgroundColor: '#004d3b'
        }]
    },
    options: {
        responsive:true,
        scales: {
            y: {
                beginAtZero: true,
                max: 12,
                ticks: {
                    callback: function(value) {
                        // Adjust y-axis scale based on data range
                        if (value < 60) {
                            return value + 's'; // Seconds scale (0 - 60s)
                        } else if (value < 3600) {
                            return Math.floor(value / 60) + 'm'; // Minutes scale (1m - 60m)
                        } else if (value < 43200) {
                            return Math.floor(value / 3600) + 'h'; // Hours scale (1h - 12h)
                        } else {
                            return Math.floor(value / 3600) + 'h'; // Extended hour scale (up to 24h)
                        }
                    }
                }
            },
            x: {
                grid: {
                    display: false 
                },
            }
        },
        plugins: {
            tooltip: {
                callbacks: {
                    label: function(tooltipItem) {
                        const value = tooltipItem.raw;
                        return `Hours Worked: ${Math.floor(value / 3600)}h ${Math.floor((value % 3600) / 60)}m ${value % 60}s`;
                    },
                    title: function(tooltipItems) {
                        return tooltipItems[0].label; // Display label of the hovered bar
                    }
                }
            }
        }
    }
});


  </script>
</body>

</html>